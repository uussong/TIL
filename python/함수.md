

# 함수

### 함수 기초

#### 함수

- 특정 기능을 하는 것을 모아놓은 코드 조각

  - 기능을 묶어서 활용

- 매번 다시 작성할 필요 없이 필요시 호출해서 간편히 사용

- Decomposition: 기능을 구조적으로 분해하고 재사용 가능하게 만들기 위해 사용

- Abstraction: 복잡한 내용을 모르더라도 사용할 수 있도록 함(블랙박스) 

  ​						재사용성과 가독성, 생산성

  - 추상화된 내용을 알기 위해선 공식문서 확인

- 함수가 어떻게 동작하는지 원리를 이해해야함

#### 사용자 함수

```python
def function_name(parameter):
    # code block
    return returning_value
```

- 조건 반복문으로 표현할 수 있지만 내장함수로 표현할 수 있고 이를 직접 구현할 수도 있음

- 어떠한 값을 넣어서 어떠한 결과를 넣는 로직 자체는 code block 안에서 이뤄짐
  - 사용자 정의 함수에서는 로직을 직접 구현

#### 선언과 호출

- 선언과 호출시 **입력**과 **결과값**을 생각 그 뒤 문서화

- 함수의 선언 `def`

- 코드블럭(docstring) 함수, 모듈, 클래스 밑에 `'''`나 `"""`는 이를 설명해주는 역할(꼭 적어야 하는 건 아님) 
- `parameter(매개변수)`: 어떤 값을 받을지 
- `return`: 함수 동작 후 return을 통해 결과값 전달
  - 반드시 하나의 객체를 반환
- 호출 `function_name()`
  - parameter 있는 경우 호출할 때 어떠한 값을 넣어서 호출

```python
def cube(n):
    # n = 2
    print(n, type(n)) # 2, int
    return n ** 3

print(cube(2)) = 8
print(cube(100)) = 1000000

"""
def cube(n):
    # n = 2
    print(n, type(n)) # 2, int
    return n * 3

print(cube(2)) = 6
print(cube('2')) = 222 (str)
""""
```

- 함수 선언 시 고려해야 할 것
  - 함수이름 
  - Input이름 
  - 로직 
  - 어떠한 결과를 반환하는 것

- 선언: 어떤 로직을 구현하는 행위
  - 호출할 때 주는 값을 어떻게 할 것인지, 호출하는 이름은 어떻게 지정할 것인지, 로직 구현을 통해 값은 어떻게 반환할 것인지
- 함수를 호출하는 입장에선 로직은 관심 없음 input, output 결과 모습에만 관심 



### 함수의 결과값

- Void function: 명시적인 return 값이 없는 경우 None 반환

```python
def hello():
    print('hi') # hi

print(hello()) = hi None

A = hello()
print(A) = None
```

- Value returning function: 함수 실행 후 return문 통해 값 반환
  -  return하게되면 반드시 하나(의 객체)를 반환  그 후 바로 함수 종료
- jupyter notebook out:출력한게 아니고 마지막에 반환된 거란 의미  // 다시 10시 초반

``` python
a = print('hello')
b = float('3.5')

print(a, b) # None 3.5
```

- `print()`는 return 값을 갖지 않음

- **return과 print는 다름**
  - return: 함수 안에서만 사용되는 키워드
    - 로직에 처리된 결과를 받아서 데이터 처리 코드 작성 하는 것
  - print: 출력을 위해 사용되는 함수
    - 개발하는 사람들이 값을 보려고 하는 것

- 주피터 노트북에서는 마지막으로 작성된 코드의 리턴 값을 보여주므로 같은 동작을 하는 것으로 착각할 수 있음

#### 두 개 이상의 값 반환

- return만나면 함수 종료됨 어떻게 두 개 이상의 값을 반환할 수 있을까?
  - **튜플**로 하나로 묶어 값을 **반환**

```python
def rectangle(width, height):
    return width * height, (width + height) * 2

print(rectangle(30, 20)) # (600, 100) 하나의 튜플로 반환!
```

#### 값 반환 외 return문의 용도

- 함수 빠져나가기 
  - return 하게 되면 값 반환 후 함수 바로 종료



### 함수의 입력

- parameter(매개변수, 인수)
  - 함수를 정의할 때 이름을 지어준 것, 식별자 (=이름)
  - 입력 받아 함수 내부에서 활용할 변수											

- argument(전달인자, 인자) 
  - 함수를 호출할 때 사용하는 값

#### Argument

- 호출 시 함수의 parameter를 통해 전달되는 값
- 필수: 반드시 전달되어야 하는 값
- 선택: 값을 전달하지 않아도 되는 경우는 기본 값이 전달

##### Positional Arguments

- 기본적으로 위치에 따라 함수에 전달
- 가장 기본적인 동작, 정의 방식

##### Keyword Arguments

- 함수 호출 시 직접 변수의 이름으로 argument에 전달
  - 자리를 직접 정해줌
  - 키워드 인자 활용 후 위치 인자를 활용할 수 없음

```python
def add(x, y):
    return x + y

print(add(1, 2)) #위치 - 내부에서 바인딩 x = 1; y = 2
print(add(y=2, x=1)) #키워드 - 직접 x, y 값을 각각 지정
#print(add(x=1, 2)) #SyntaxError: positional argument **follows** keyword argument
#키워드로 지정하는 순간 위치가 이미 의미가 없어졌다 -> 에러
print(add(1, y=2)) #위치로 지정하다가 키워드로 활용되므로 작동함
```

- input 5개를 넣을 때 2개 필수 / 3개 선택
  - 필수는 위치로 넣고 선택은 키워드로 활용하면 편리

##### Default Arguments Values

- 함수 정의 시 **기본값**을 지정해 선택적으로 값을 받을 수 있게 함 
  - 더 적은 개수의 arguments로 함수 호출 가능

##### 정해지지 않은 여러 개의 Arguments 처리

- **Positional Arguments Packing/Unpacking ***
  - `*`(asterisk): 묶겠다는 의미의 연산자
  - 몇 개의 positional argument를 받을지 모르니 한 번에 받아주고 있는 것 
  - 튜플 형태로 처리됨

```python
print('hi', 'hello', '안녕', 'Guten Morgen', 'Bon jour')

def add(*args):
    print(args, type(args))
    return sum(args)
    
add(1, 2, 3) # (1, 2, 3), tuple
add(1) # (1,), tuple
```

```python
a = [1, 2, 3]

def func(x):
    for i in x:
        print(i)

func(a) # 1 2 3

def func2(*x):
    print(x) # ([1, 2, 3],)
    for i in x:
        print(i)
     
func2(a) # [1, 2, 3]

def func3(name, *args, number):
    print(name)
    print(args)
    print(number)
    
func3("aiden", 1, 2, 3) # TypeError: func3() missing 1 required keyword-only arguments: 'number' -> *args에서 인자를 다 가져감

def func3(name, *args, number=100):
    print(name)
    print(args)
    print(number)
func3("aiden", 1, 2, 3) # aiden (1, 2, 3) 100
```

- **Keyword Arguments Packing/Unpacking ****
  - `**`로 표현하며 딕셔너리로 묶여 처리됨

```python
def family(**kwargs):
    for key, value in kwargs.items(): # kwargs는 dictionary 비시퀀스형이므로 for문 돌릴 수 없기 때문에 .itmes()를 해주어야 함
        print(key, ":", value)
   
family(father="john", mother="jane", me="john Jr.") # 문자 아닌 변수의 형태로 써야하므로 'father', 'mother', 'me' 로 안 씀
```

##### 함수 정의 주의 사항

- `def greeting(name='john doe', age):`
  - 기본값이 있는 argument가 기본값이 없는 argument 뒤에 와야 함

##### 함수 호출 주의 사항

- `add(x=3, 5)`
  - 앞에 keyword argument를 쓰면 뒤에 positional argument를 쓸 수 없음

- 함수 정의, 호출 시 복잡한 argument를  뒤로 놓다고 생각하면 편함